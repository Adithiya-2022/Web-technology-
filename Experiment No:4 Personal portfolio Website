<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Portfolio</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI;}
body{
background:linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#1c92d2);
background-size:400% 400%;
animation:gradient 12s ease infinite;
color:white;
overflow-x:hidden;
}

@keyframes gradient{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

.glass{
background:rgba(255,255,255,0.1);
backdrop-filter:blur(10px);
border-radius:15px;
box-shadow:0 8px 32px rgba(0,0,0,0.3);
padding:20px;
}

.center{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

input,textarea{
width:100%;
padding:10px;
margin:10px 0;
border:none;
border-radius:8px;
}

button{
padding:10px;
border:none;
border-radius:8px;
cursor:pointer;
background:#00c6ff;
color:white;
margin-top:10px;
}

button:hover{background:#0072ff;}

.hidden{display:none;}

header{
position:fixed;
width:100%;
padding:15px;
background:rgba(0,0,0,0.6);
display:flex;
justify-content:space-between;
z-index:100;
}

section{padding:100px 20px;}

.slider img{
width:100%;
height:400px;
object-fit:cover;
border-radius:15px;
}

.chatbox{
position:fixed;
bottom:20px;
right:20px;
width:300px;
}

.chat-messages{
height:200px;
overflow-y:auto;
background:rgba(0,0,0,0.6);
padding:10px;
border-radius:10px;
margin-bottom:5px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="auth" class="center">
<div class="glass" style="width:350px;">
<h2>Register / Login</h2>
<input type="text" id="username" placeholder="Username">
<input type="email" id="email" placeholder="Email">
<input type="password" id="password" placeholder="Password">
<input type="text" id="security" placeholder="Security Answer">
<button onclick="register()">Register</button>
<button onclick="login()">Login</button>
<button onclick="forgot()">Forgot Password</button>
</div>
</div>

<!-- MAIN -->
<div id="main" class="hidden">

<header>
<h3>My Ultimate Portfolio</h3>
<button onclick="logout()">Logout</button>
</header>

<section>
<div class="glass">
<h2>Profile</h2>
<input type="file" id="photo" onchange="uploadPhoto()">
<img id="profilePic" width="100">
<textarea id="bio" placeholder="Your bio"></textarea>
<button onclick="saveProfile()">Save Profile</button>
</div>
</section>

<section>
<div class="glass slider">
<h2>Gallery</h2>
<img id="slideImage" src="https://picsum.photos/800/400?1">
<button onclick="nextSlide()">Next</button>
</div>
</section>

<section>
<div class="glass">
<h2>Projects</h2>
<input type="text" id="projectInput" placeholder="New Project">
<button onclick="addProject()">Add</button>
<ul id="projectList"></ul>
</div>
</section>

<section>
<div class="glass">
<h2>Contact Messages (Admin)</h2>
<ul id="messages"></ul>
</div>
</section>

</div>

<!-- CHATBOT -->
<div class="chatbox glass hidden" id="chatbox">
<div class="chat-messages" id="chatMessages"></div>
<input type="text" id="chatInput" placeholder="Ask me...">
<button onclick="chat()">Send</button>
</div>

<script>

/* REGISTER */
function register(){
localStorage.setItem("user",username.value);
localStorage.setItem("pass",password.value);
localStorage.setItem("email",email.value);
localStorage.setItem("security",security.value);
alert("Registered!");
}

/* LOGIN */
function login(){
if(username.value===localStorage.getItem("user") &&
password.value===localStorage.getItem("pass")){
auth.classList.add("hidden");
main.classList.remove("hidden");
chatbox.classList.remove("hidden");
loadProfile();
loadProjects();
}
else alert("Wrong Credentials");
}

/* LOGOUT */
function logout(){
main.classList.add("hidden");
auth.classList.remove("hidden");
}

/* FORGOT */
function forgot(){
let answer=prompt("Enter Security Answer");
if(answer===localStorage.getItem("security")){
let newPass=prompt("Enter New Password");
localStorage.setItem("pass",newPass);
alert("Password Reset!");
}else alert("Wrong Answer");
}

/* PROFILE */
function uploadPhoto(){
let reader=new FileReader();
reader.onload=function(){
localStorage.setItem("photo",reader.result);
profilePic.src=reader.result;
}
reader.readAsDataURL(photo.files[0]);
}

function saveProfile(){
localStorage.setItem("bio",bio.value);
alert("Saved!");
}

function loadProfile(){
profilePic.src=localStorage.getItem("photo");
bio.value=localStorage.getItem("bio");
}

/* SLIDER */
let slide=1;
function nextSlide(){
slide++;
slideImage.src=`https://picsum.photos/800/400?${slide}`;
}

/* PROJECTS */
function addProject(){
let projects=JSON.parse(localStorage.getItem("projects")||"[]");
projects.push(projectInput.value);
localStorage.setItem("projects",JSON.stringify(projects));
loadProjects();
}

function loadProjects(){
projectList.innerHTML="";
let projects=JSON.parse(localStorage.getItem("projects")||"[]");
projects.forEach(p=>{
let li=document.createElement("li");
li.textContent=p;
projectList.appendChild(li);
});
}

/* CHATBOT */
function chat(){
let msg=chatInput.value;
chatMessages.innerHTML+=`<div>You: ${msg}</div>`;
let reply="Hello! I am your portfolio assistant.";
if(msg.toLowerCase().includes("project")) reply="Check my projects section!";
chatMessages.innerHTML+=`<div>Bot: ${reply}</div>`;
chatInput.value="";
}

</script>

</body>
</html>
